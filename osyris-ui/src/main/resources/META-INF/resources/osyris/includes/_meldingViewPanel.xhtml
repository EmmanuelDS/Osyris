<u:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:u="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:r="http://richfaces.org/rich"
	xmlns:d="http://specto.gim.be/display"
	xmlns:p="http://primefaces.org/ui"
	xmlns:j="http://conscientia.org/jsf"
	xmlns:m="http://specto.gim.be/map">
	<h2>Melding #{d:modelObject(form.object).getId()} - #{osyrisModelFunctions.getTrajectNaam(form.object.traject)} (#{osyrisModelFunctions.getTrajectRegio(form.object.traject)}) - #{form.object.trajectType}</h2>
	<br/>
	<table width="100%">
		<tr>
			<td width="50%" valign="top">
					<r:panel id ="meldingPanel" header="Melding">
				<d:fields>
					<d:field label="Status" for="status">
						<d:propertyValue id="status"
							modelProperty="#{d:modelClass('Melding').getProperty('status')}"
							value="#{form.object.status}" mode="VIEW" />
					</d:field>
					<d:field label="Datum gemeld" for="datumGemeld">
						<d:propertyValue id="datumGemeld"
							modelProperty="#{d:modelClass('Melding').getProperty('datumGemeld')}"
							value="#{form.object.datumGemeld}" mode="VIEW" />
					</d:field>
					<d:field label="Datum validatie" for="datumGevalideerd">
						<d:propertyValue id="datumGevalideerd"
							modelProperty="#{d:modelClass('Melding').getProperty('datumGevalideerd')}"
							value="#{form.object.datumGevalideerd}" mode="VIEW" />
					</d:field>
					<d:field label="Commentaar validatie" for="commentaarValidatie">
						<d:propertyValue id="commentaarValidatie"
							modelProperty="#{d:modelClass('Melding').getProperty('commentaar')}"
							value="#{form.object.commentaar}" mode="VIEW" />
					</d:field>
					<d:field label="Medewerker" for="medewerker">
						<d:propertyValue id="medewerker"
							modelProperty="#{d:modelClass('Melding').getProperty('medewerker')}"
							value="#{form.object.medewerker}" mode="VIEW" />
					</d:field>
				</d:fields>
			</r:panel>
			<br/>
			<r:panel id ="melderPanel" header="Melder">
				<d:fields>
					<d:field label="Voornaam" for="voornaam">
						<d:propertyValue id="voornaam"
							modelProperty="#{d:modelClass('Melding').getProperty('voornaam')}"
							value="#{form.object.voornaam}" mode="VIEW" />
					</d:field>
					<d:field label="Naam" for="naam">
						<d:propertyValue id="naam"
							modelProperty="#{d:modelClass('Melding').getProperty('naam')}"
							value="#{form.object.naam}" mode="VIEW" />
					</d:field>
					<d:field label="Email" for="email">
						<d:propertyValue id="email"
							modelProperty="#{d:modelClass('Melding').getProperty('email')}"
							value="#{form.object.email}" mode="VIEW" />
					</d:field>
					<d:field label="Tel/GSM" for="telefoon">
						<d:propertyValue id="telefoon"
							modelProperty="#{d:modelClass('Melding').getProperty('telefoon')}"
							value="#{form.object.telefoon}" mode="VIEW" />
					</d:field>
				</d:fields>
			</r:panel>
			<br/>
			<r:panel id ="probleemPanel" header="Probleem">
				<d:fields>
					<d:field label="Datum vaststelling" for="datumVastelling">
						<d:propertyValue id="datumVaststelling"
							modelProperty="#{d:modelClass('Melding').getProperty('datumVaststelling')}"
							value="#{form.object.datumVaststelling}" mode="VIEW" />
					</d:field>
					<d:field label="Commentaar" for="commentaar">
						<d:propertyValue id="commentaar"
							modelProperty="#{d:modelClass('Probleem').getProperty('commentaar')}"
							value="#{form.object.probleem.commentaar}" mode="VIEW" />
					</d:field>
					<d:field label="Foto" for="foto">
						<d:propertyValue id="foto"
							modelProperty="#{d:modelClass('Probleem').getProperty('foto')}"
							value="#{form.object.probleem.foto}" mode="VIEW" />
					</d:field>
				</d:fields>
			</r:panel>
			</td>
			<td width="50%" valign="top">
				<r:panel>
					<div style="height: 500px">
						<m:mapViewer id="viewer"
							configuration="#{form.configuration}"/>
					</div>
				</r:panel>
			</td>
		</tr>
	</table>
	<d:buttons>
		<j:commandButton
			rendered="#{form.isCanEdit(form.object) and form.object.status == 'GEMELD'}"
			value="Valideren"
			image="#{resource['core/images/actions/12x12/apply.png']}"
			type="button"
			title="#{messages['page.actions.edit.label']}"
			onclick="conscientia.widget(#{r:element('viewPopup')}).hide(); conscientia.widget(#{r:element('valideerPopup')}).show();" />
		<j:commandButton value="#{messages['form.general.close.button']}"
			image="#{resource['core/images/actions/12x12/close.png']}"
			type="button"
			submit="false"
			onclick="conscientia.widget(#{r:element('viewPopup')}).hide();" />
	</d:buttons>
</u:composition>