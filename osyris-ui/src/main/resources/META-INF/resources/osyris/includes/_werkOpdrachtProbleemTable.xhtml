<u:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:u="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://richfaces.org/a4j" 
	xmlns:r="http://richfaces.org/rich"
	xmlns:d="http://specto.gim.be/display"
	xmlns:j="http://conscientia.org/jsf" 
	xmlns:m="http://specto.gim.be/map"
	xmlns:p="http://primefaces.org/ui">
	<r:panel id="bordProbleemPanel" rendered="#{form.isBordProbleem()}">
		<p:dataTable id="bordProbleem"
			value="#{form.object.probleem}"
			mode="RESULT"
			var="bordProbleem"
			styleClass="model-table #{cc.attrs.contentClass}"
			emptyMessage="#{messages['ui.dataTable.empty']}">
			<j:bindAttribute var="bordProbleem"
						name="rowData" />
			<f:facet name="header">
				<div>Bordprobleem</div>
			</f:facet>
			<p:column style="width:2%">
				<j:commandButton
					value="Zoom naar Probleem"
					src="#{resource['core/images/actions/16x16/zoom.png']}"
					type="image"
					title="#{messages['component.map.zoomToFeature.label']}"
					action="#{form.zoomToProbleem(form.object.probleem)}" />
	   		</p:column>
	   		<p:column>
				<f:facet name="header">
				<div>Volgnummer</div>
				</f:facet>
					<h:outputText value="#{osyrisModelFunctions.getBordVolg(bordProbleem.bord) }" mode="VIEW" />
			</p:column>
			<p:column>
				<f:facet name="header">
				<div>Straat</div>
				</f:facet>
					<h:outputText value="#{osyrisModelFunctions.getBordStraat(bordProbleem.bord) }" mode="VIEW" />
			</p:column>
			<p:column>
				<f:facet name="header">
				<div>Type</div>
				</f:facet>
				<d:propertyValue id="typeColumn"
					modelProperty="#{d:modelClass('Probleem').getProperty('type')}"
					value="#{bordProbleem.type}"
					mode="VIEW" />
			</p:column>
			<p:column>
				<f:facet name="header">
				<div>Commentaar</div>
				</f:facet>
				<d:propertyValue id="commentaarColumn"
					modelProperty="#{d:modelClass('Probleem').getProperty('commentaar')}"
					value="#{bordProbleem.commentaar}"
					mode="VIEW" />
			</p:column>
			<p:column rendered="#{identity.inGroup('Medewerker','CUSTOM') or identity.inGroup('Routedokter','CUSTOM') or identity.inGroup('admin','CUSTOM') }">
				<f:facet name="header">
				<div>Status</div>
				</f:facet>
				<d:propertyValue id="statusColumn"
					modelProperty="#{d:modelClass('Probleem').getProperty('status')}"
					value="#{bordProbleem.status}"
					mode="VIEW" />
			</p:column>
	   	</p:dataTable>
	</r:panel>
	<r:panel id="AnderProbleemPanel" rendered="#{!form.isBordProbleem()}" >
	<p:dataTable id="AnderProbleem"
			value="#{form.object.probleem}"
			mode="RESULT"
			var="anderProbleem"
			styleClass="model-table #{cc.attrs.contentClass}"
			emptyMessage="#{messages['ui.dataTable.empty']}">
			<j:bindAttribute var="anderProbleem"
						name="rowData" />
			<f:facet name="header">
				<div>Ander probleem</div>
			</f:facet>
			<p:column style="width:2%">
				<j:commandButton
					value="Zoom naar Probleem"
					src="#{resource['core/images/actions/16x16/zoom.png']}"
					type="image"
					title="#{messages['component.map.zoomToFeature.label']}"
					action="#{form.zoomToProbleem(form.object.probleem)}" />
	   		</p:column>
	   		<p:column>
				<f:facet name="header">
				<div>Categorie</div>
				</f:facet>
				<d:propertyValue id="categorieColumn"
					modelProperty="#{d:modelClass('Probleem').getProperty('categorie')}"
					value="#{anderProbleem.categorie}"
					mode="VIEW" />
			</p:column>
			<p:column>
				<f:facet name="header">
				<div>Commentaar</div>
				</f:facet>
				<d:propertyValue id="commentaarColumn"
					modelProperty="#{d:modelClass('Probleem').getProperty('commentaar')}"
					value="#{anderProbleem.commentaar}"
					mode="VIEW" />
			</p:column>
			<p:column rendered="#{identity.inGroup('Medewerker','CUSTOM') or identity.inGroup('Routedokter','CUSTOM') or identity.inGroup('admin','CUSTOM') }">
				<f:facet name="header">
				<div>Status</div>
				</f:facet>
				<d:propertyValue id="statusColumn"
					modelProperty="#{d:modelClass('Probleem').getProperty('status')}"
					value="#{anderProbleem.status}" mode="VIEW" />
			</p:column>
   		</p:dataTable>
   		</r:panel>
	<br/>
	</u:composition>