<u:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:u="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:r="http://richfaces.org/rich"
	xmlns:d="http://specto.gim.be/display"
	xmlns:p="http://primefaces.org/ui"
	xmlns:j="http://conscientia.org/jsf"
	xmlns:m="http://specto.gim.be/map">
	<h2>Werkopdracht #{d:modelObject(form.object).getId()} (uitvoeringsronde #{d:modelObject(form.uitvoeringsronde).getId()})</h2>
	
	<br/>
	<table width="100%">
	<tr valign="top">
	<td>
	<u:decorate
				template="/resources/osyris/includes/_werkOpdrachtGerapporteerdView.xhtml">
				<u:param name="form" value="#{form}" />
				<u:param name="render" value="#{render}" />
			</u:decorate>
	<br/>
	
	</td>
	<td width="50%" valign="top">
		<r:panel>
			<div style="height: 500px">
				<m:mapViewer id="viewer"
					configuration="#{form.configuration}">
				</m:mapViewer>
			</div>
		</r:panel>
		<u:decorate
			template="/resources/osyris/includes/baseLayerSwitch.xhtml">
			<u:param name="form" value="#{form}" />
		</u:decorate>
	</td>
	</tr>
	</table>
	<br/>
	<r:panel id="fotoPanel" rendered="#{form.object.foto != null or form.object.foto2 != null or form.object.foto3 != null}">
	<d:fields>
		<d:propertyField id="foto"
		 		modelProperty="#{d:modelClass('WerkOpdracht').getProperty('foto')}"
				value="#{form.object.foto}"
				mode="VIEW" />
		<d:propertyField id="foto2"
		 		modelProperty="#{d:modelClass('WerkOpdracht').getProperty('foto2')}"
				value="#{form.object.foto2}"
				mode="VIEW" />
		<d:propertyField id="foto3"
		 		modelProperty="#{d:modelClass('WerkOpdracht').getProperty('foto3')}"
				value="#{form.object.foto3}"
				mode="VIEW" />
	</d:fields>
	</r:panel>	
	<d:buttons>
		<j:commandButton
			rendered="#{form.object.status == 'GERAPPORTEERD' }"
			value="Valideren"
			image="#{resource['core/images/actions/12x12/edit.png']}"
			type="button"
			onclick="conscientia.widget(#{r:element('viewPopup')}).hide(); conscientia.widget(#{r:element('valideerPopup')}).show();" />
	</d:buttons> 
</u:composition>