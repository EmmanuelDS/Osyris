<div xmlns="http://www.w3.org/1999/xhtml"
	xmlns:u="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:d="http://specto.gim.be/display"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:j="http://conscientia.org/jsf"
	xmlns:p="http://primefaces.org/ui"
	xmlns:cc="http://java.sun.com/jsf/composite">
	<cc:interface componentType="org.conscientia.ui.ModelPropertyField" />
	<cc:implementation>
		<j:bind var="c" />
		<h:panelGroup rendered="#{!c.checkbox}">
			<div class="model-field #{c.attrs.modelProperty.highlight ? 'model-field-highlight' : null}">
				<a:outputPanel styleClass="model-field-label"
				layout="block"
					title="#{c.attrs.modelProperty.description}"
					transient="true">
					<d:displayLabel for="value"
						property="#{c.attrs.modelProperty}" />
					<span>
						<h:graphicImage value="#{resource['core/images/actions/12x12/required_alt.png']}"
							styleClass="model-field-indicator"
							title="#{messages['component.field.required.label']}"
							rendered="#{c.required}" />
						<h:graphicImage value="#{resource['core/images/actions/12x12/final.png']}"
							styleClass="model-field-indicator"
							title="#{messages['component.field.final.label']}"
							rendered="#{c.final}" />
						<h:graphicImage value="#{resource['core/images/actions/12x12/localized.png']}"
							styleClass="model-field-indicator"
							title="#{messages['component.field.international.label']}"
							rendered="#{c.international}" />
					</span>
				</a:outputPanel>
				<div class="model-field-value">
					<div title="#{c.attrs.modelProperty.description}">
						<d:propertyValue id="value"
							path="#{c.attrs.path}"
							value="#{c.attrs.value}"
							modelProperty="#{c.attrs.modelProperty}"
							modelClass="#{c.attrs.modelClass}"
							modelObject="#{c.attrs.modelObject}"
							mode="#{c.attrs.mode}"
							level="#{c.attrs.level}"
							simple="#{c.attrs.simple}" />
					</div>
					<p:message for="#{d:valueId('value')}"
						rendered="#{c.showMessages}" />
				</div>
			</div>
		</h:panelGroup>
		<h:panelGroup rendered="#{c.checkbox}">
			<div class="model-field #{c.attrs.modelProperty.highlight ? 'model-field-highlight' : null}">
				<div class="model-field-checkbox-label"
					title="#{c.attrs.modelProperty.description}">
					<d:propertyValue id="checkbox"
						path="#{c.attrs.path}"
						value="#{c.attrs.value}"
						modelProperty="#{c.attrs.modelProperty}"
						modelClass="#{c.attrs.modelClass}"
						modelObject="#{c.attrs.modelObject}"
						mode="#{c.attrs.mode}" />
					<d:displayLabel for="checkbox"
						property="#{c.attrs.modelProperty}" />
					<span>
						<h:graphicImage value="#{resource['core/images/actions/12x12/final.png']}"
							styleClass="model-field-indicator"
							title="#{messages['component.field.final.label']}"
							rendered="#{c.final}" />
					</span>
				</div>
				<div class="model-field-value">
					<p:message for="#{d:valueId('checkbox')}"
						rendered="#{c.showMessages}" />
				</div>
			</div>
		</h:panelGroup>
		<div class="model-field-tail"/>
	</cc:implementation>
</div>